# Sprint C - Critérios de aceitação das tarefas



## 7.1.1 As a user, I want to have an integrated UI for all modules of the system so that I don’t need to switch between application urls
### Acceptance criteria
- All modules (Backoffice, 3D Visualization, Planning, etc.) must be accessible through a single unified interface.
- Users should not need to manually switch between different URLs for different modules.
- Role-based access control ensures users only see modules relevant to their roles.
- Navigation between modules should be seamless and intuitive.

## 7.1.2 As user I want the application menu to adjust, according to my role, so that it only presents me the options I may access
### Acceptance criteria

- The menu dynamically adjusts based on the user's role (e.g., Admin, Doctor, Nurse, Patient).
- Users only see menu options relevant to their assigned role.
- Role-based access control ensures unauthorized options are hidden.
- Changes in a role immediately reflect updated menu options upon login or refresh.
- The menu layout remains consistent for usability across roles.

## 7.1.3 As healthcare staff I want the information show on the 3D visualization module about room availability is in sync with the schedule that was generated by the planning module
### Acceptance criteria

- The 3D visualization module retrieves real-time room availability data from the planning module.
- Updates to the schedule in the planning module automatically reflect in the 3D visualization.
- No discrepancies exist between the planning module schedule and 3D visualization.
- Users can confirm room status (e.g., available, occupied, under maintenance) matches the planning data.

## 7.1.4 As Admin I want the information about healthcare staff, operation types, and operation requests are in sync with the information entered the backoffice module
### Acceptance criteria

- Changes made in the backoffice module are immediate or periodically synced with the planning module.
- Healthcare staff, operation types, and operation requests data are consistent across all modules.
- Any updates (additions, edits, deletions) in the backoffice module are accurately reflected in dependent modules.

## 7.1.5. As a customer, I want a sales and technical presentation of the overall solution
### Acceptance criteria

- The presentation includes an overview of all system modules and their functionalities.
- Key features, benefits, and use cases are clearly outlined for both sales and technical audiences.
- Technical details cover architecture, technologies used, and integration points.
- The presentation addresses customer-specific needs and expectations.
- The delivery is clear, professional, and allows time for questions.

## 7.2.1 As Software Architect, I want to adopt a decentralized architecture of the backoffice module, so that it is composed of the existing SPA frontend and the .Net backend, and a new module responsible for managing, namely, Patient’s Medical Records, Allergies and Medical Conditions. This module must be implemented in Node.js, Express, and MongoDB SGBD.
### Acceptance criteria

- The backoffice module consists of:
  1. An existing SPA frontend.
  2. A .Net backend for core functionalities.
  3. A new module for managing Patient’s Medical Records, Allergies, and Medical Conditions.

- The new module is implemented using Node.js, Express, and MongoDB as the database.
- The architecture supports seamless communication between the .Net backend and the new Node.js module.
- Patient data is securely stored and retrieved from MongoDB.
- The system ensures compliance with data integrity, performance, and scalability requirements.
- Clear API endpoints are defined for interaction between the modules.

## 7.2.2 As an Admin, I want to add new Allergy, so that the Doctors can use it to update the Patient's Medical Record.
### Acceptance criteria

- Admins can create a new allergy entry with attributes like name and description.
- The system validates that the allergy name is unique.
- Newly added allergies are immediately available for doctors to use when updating patient records.
- The system ensures secure and consistent storage of allergy data in the database.

## 7.2.3 As a Doctor, I want to search for Allergies, so that I can use it to update the Patient's Medical Record.
### Acceptance criteria

- Doctors can search for allergies using keywords or filters (e.g., name).
- The system displays matching allergy results in a list view.
- The search results include relevant details like allergy name and description.
- The system ensures fast and accurate retrieval of allergy data from the database.

## 7.2.4 As an Admin, I want to add new Medical Condition, so that the Doctors can use it to update the Patient's Medical Record.
### Acceptance criteria

- Admins can create a new medical condition entry with attributes like name and description.
- The system validates that the medical condition name is unique.
- Newly added medical conditions are immediately available for doctors to use when updating patient records.
- The system securely stores medical condition data in the database.

## 7.2.5 As a Doctor, I want to search for Medical Conditions, so that I can use it to update the Patient's Medical Record.
### Acceptance criteria

- Doctors can search for medical conditions using keywords or filters (e.g., name).
- The system displays matching results with relevant details like name and description.
- The search is fast, accurate, and retrieves data from the database.
- The system ensures secure and consistent access to medical condition data.

## 7.2.6 As a Doctor, I want to update the Patient's Medical Record, namely respecting Medical Conditions and Allergies.
### Acceptance criteria

- Doctors should only be able to update Medical Records for patients they are authorized to treat. This ensures data privacy and prevents unauthorized access to sensitive information.
- The system should validate the input for Medical Conditions and Allergies to prevent errors and ensure data consistency. This could involve checking for duplicate entries, validating against a pre-defined list of conditions and allergies, and ensuring the data is entered in the correct format.
- Newly updates Patient's Medical Records should be immediately reflected in the system and accessible to authorized users.
- The system ensures secure storage and retrieval of the Patient's Medical Records data.


## 7.2.7 As a Doctor, I want to search for entries in the Patient's Medical Record, namely respecting Medical Conditions and Allergies.
### Acceptance criteria


- Doctors can search for entries in the Patient's Medical Record using keywords or filters (e.g., Medical Conditions, Allergies).
- The system displays matching results with relevant details like name, description, and associated patient information.
- The search is fast, accurate, and retrieves data from the database.
- The system ensures secure and consistent access to the Patient's Medical Record data.

## 7.2.8 As a Doctor, I want to create a Surgery Appointment, so that the Patient doesn’t need to wait for the automatically generated planning.
### Acceptance criteria

- Doctor Authorization: Doctors should be able to manually create surgery appointments for their patients, overriding the automated planning system when deemed necessary. This functionality empowers doctors to expedite urgent cases or address specific patient needs that might not be fully captured by the automated system.
- Schedule Validation: The system should ensure that doctor-created appointments comply with scheduling constraints, including:
  1. Staff Availability: The system should verify that all required staff, as specified by the Operation Type (e.g., surgeons, nurses, anaesthetists), are available during the chosen time slot.
  2. Room Availability: The system should confirm the selected operating room is available and appropriate for the surgery type.
- Integration with Planning Module: Doctor-created appointments should be seamlessly integrated into the planning module's schedule, updating the overall surgery plan and preventing conflicts with other appointments. This integration ensures that the manually created appointments are reflected across the system and accessible to other users.
- Override Transparency: The system should clearly indicate which appointments have been manually created by doctors, distinguishing them from automatically generated appointments. This transparency helps administrators and other staff understand deviations from the automated plan and manage potential scheduling conflicts.

## 7.2.9 As a Doctor, I want to update a Surgery Appointment, so that I can override the automatically generated planning.
### Acceptance criteria

- Doctor Authorization and Scope: The system should allow doctors to modify existing surgery appointments they have created, encompassing changes to the date, time, assigned staff, and operating room. Doctors only can update Surgery Appointments assigned to them.
- Update Validation and Constraints: The system must ensure that any updates made by the doctor maintain schedule integrity and adhere to existing constraints:
  1. Staff Availability: The system should re-validate staff availability based on the updated time slot, confirming that all necessary personnel are available and preventing double-booking of staff.
  2. Room Availability: The system should re-confirm that the updated operating room is available during the new time slot and suitable for the surgery type.
- Integration with Planning Module: Similar to creating appointments, any updates should be immediately reflected in the planning module's schedule, ensuring consistency and preventing conflicts with other appointments or resource allocations.

## 7.2.10 As an Admin, I want to add new Types of rooms, so that I can reflect on the available medical procedures in the system.
### Acceptance criteria

- Unique Room Type: The system should validate that the new Room Type is unique, preventing duplication and ensuring accurate categorization. While highlighting the system's focus on surgical appointment management, mentions different room types like "operating room, consultation room, ICU", suggesting the need for this validation.
- Type of room Attributes: Name and description are the attributes required for a new Room Type. These attributes provide essential information about the room's purpose and functionality, aiding in resource allocation and scheduling decisions.
- Relationship to Procedures: The system should allow admins to associate new Room Types with specific medical procedures or Operation Types. This linkage enables the planning module to consider room suitability when scheduling surgeries. For example, a "Cardiac Catheterization Lab" would be linked to cardiology procedures, while a "General Operating Room" might be suitable for a broader range of surgical specialties.
- Impact on Scheduling: Adding new Room Types should trigger an update to the planning module, enabling it to incorporate these new rooms into the scheduling process. This ensures the system can leverage the expanded pool of resources effectively.


## 7.2.11 As an Admin, I want to add new Specializations, so that I can update or correct information about the staff and operation type (procedure).
### Acceptance criteria 

- Unique Specialization Names: The system should validate that each new specialization name is unique.
- Data Storage: The new specialization must be securely stored within the system's database.
- Immediate Availability: The newly added specialization should be available for use in staff profiles and operation types immediately after creation.
- Consistency Across Modules: The system should ensure that the new specialization is consistent across all relevant modules, such as operation types. This consistency prevents data discrepancies and ensures accurate information representation.

## 7.3.2 As an Admin, I want to be able to schedule surgeries to several operations rooms using Genetic Algorithms (Genetic Algorithm parameters need to be tuned according to conditions like number of genes, desired time for solution, etc.)
### Acceptance Criteria

- The system must be capable of scheduling surgeries in various operation rooms simultaniously.
- The system must use genetic algorithms to find scheduling solutions. This means you have to implement:
        1.  Genetic representention of the solutions
        2.  Generation of an initial population of solutions
        3.  Evalution function to rate solutions
        4.  Genetic Operators
        5.  Parameters of the genetic algorithm
- The system must incorporate changes to the genetic algorithm like:
        1. Ensure that the best individual passes on to the next generation 
        2. Avoid crossovers between patients


## 7.3.3 As an Hospital Manager I want a study of state of the art of application of Robots and Computer Vision in Hospitals, namely in the context of surgeries. The combination of human-based study and Generative AI is adequate. However, it must be clear what was done by each part.
### Acceptance Criteria

- Search and analyse the necessary information about the manner.
- The results of the research should be synthesized and structured into a clear and concise report
- The study should focus specially on the application of these tecnologies in the hospital context (theme addressed in the project)

## 7.3.1 As an Admin, I want an automatic method to assign a set of operations (surgeries) to several operation rooms (assign is just to decide in which operation room the surgery will be done)
### Acceptance Criteria

- The system must be able to automatically assign surgeries to operating rooms, without manual intervention by the administrator
- The system must be able to handle the assignment of surgeries to multiple operating rooms simultaneously.
- The system must take into account the relevant constrains when assigning surgeries such as:
  -> Type of Surgery
  -> Team Availability 

## 7.5.1 As a healthcare staff member, I want to select a room by left clicking on the corresponding surgical table (object picking). The camera should instantly move horizontally so that it targets the room center point.
### Acceptance Criteria

-When you left-click on an operating table. the corresponding room must be selected. This means that the system must recognize which operating table has been clicked and associate it with the correct room. The raycastnig technique can be used to determine which three-dimensional object has been clicked on the screen
-The camera should move horizontally instantaneously to center at the center point of the selected room.
-The interface should provide some sort of visual feedback to indicate which room has been selected (extra).


## 7.5.2 As a healthcare staff member, whenever I press the “i” key, I want to display/hide an overlay containing updated information about the selected room.
### Acceptance Criteria

- The overlay must be clearly visible and posicioned in a way that doens't obstruct the vision of the 3D scene.
- The overlay must display the following information about the selected room:
  -> Room number
  -> Room status 
  -> Type of surgery 
  -> Patient name
- Any relevant change must updated in the room status must be reflected immediately in the overlay

## 7.5.4 As a healthcare staff member, whenever I select a different room, I want the camera (and the spotlight, if applicable) to move smoothly instead of instantly. The animation can either be created or defined using some API, such as tween.js
### Acceptance Criteria

- The camera animation must be created or defined using an API such as tween.js