<div class="admin-header">
  <h2>Admin</h2>
  <button class="logout-button" (click)="logout()">
    <span class="material-icons">logout</span>
  </button>
</div>
  <section class="admin-section" [style.display]="selectedSection ? 'none' : 'block'">

    <div class="admin-panel">
      <h3>Admin Panel:</h3>
      <button (click)="showSection('registerUser')">Register User</button>
      <button (click)="showSection('syncBackoffice')">Information Sync Backoffice</button>
      <button (click)="showSection('syncPlanning')">Information Sync Planning</button>
    </div>
    <div class="admin-patient-management">
      <h3>Patient Management:</h3>
      <button (click)="showSection('createPatient')">Create Patient Profile</button>
      <button (click)="showSection('editPatient')">Edit Patient Profile</button>
      <button (click)="showSection('deletePatient')">Delete Patient Profile</button>
      <button (click)="showSection('listPatients')">List/Search Patient Profiles</button>
    </div>
    <div class="admin-staff-management">
      <h3>Staff Management:</h3>
      <button (click)="showSection('createStaff')">Create Staff Profile</button>
      <button (click)="showSection('editStaff')">Edit Staff Profile</button>
      <button (click)="showSection('deactivateStaff')">Deactivate Staff Profile</button>
      <button (click)="showSection('listStaff')">List/Search Staff Profiles</button>
    </div>
    <div class="admin-operation-type-management">
      <h3>Operation Type Management:</h3>
      <button (click)="showSection('addOperationType')">Add Operation Type</button>
      <button (click)="showSection('editOperationType')">Edit Operation Type</button>
      <button (click)="showSection('removeOperationType')">Remove Operation Type</button>
      <button (click)="showSection('listOperationTypes')">List/Search Operation Types</button>
    </div>
  </section>

  <!-- Register User Section -->
  <section [style.display]="selectedSection === 'registerUser' ? 'block' : 'none'">
    <h2>Register User</h2>
    <p>Here you can register a new user.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <!-- Information Sync Backoffice Section -->
  <section [style.display]="selectedSection === 'syncBackoffice' ? 'block' : 'none'">
    <h2>Information Sync Backoffice</h2>
    <p>Here you can sync information with the backoffice.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <!-- Information Sync Planning Section -->
  <section [style.display]="selectedSection === 'syncPlanning' ? 'block' : 'none'">
    <h2>Information Sync Planning</h2>
    <p>Here you can sync information with the planning module.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <!-- Patient Sections -->
  <section [style.display]="selectedSection === 'createPatient' ? 'block' : 'none'">
    <head>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
      <style>
          body {
              font-family: 'Roboto', sans-serif;
          }
      </style>
    </head>
    <h2>Create Patient Profile</h2>
    <p>Here you can create a new patient profile.</p>
    <P>Please enter the following data about the new patient.</P>
    <!-- Display success or error messages -->
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>

    <div class="patient-name">
      <form>
        <label for="name">Patient Name:</label><br>
        <input type="text" id="firstName" name="firstName" placeholder="Fist Name" #firstNameRef required>
        <input type="text" id="lastName" name="lastName" placeholder="Last Name" #lastNameRef required>
      </form>
    </div>
    <div class="patient-fullName">
      <form>
        <input type="text" id="fullName" name="fullName" placeholder="Full Name" #fullNameRef required>
      </form>
    </div>
    <br>
    <div class="patient-sex-birthdate">
      <form>
        <label for="sex-birthdate">Patient Sex and Birthdate:</label><br>
        <select id="Sex" name="sex" #sexRef required>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="" disabled selected>Select Sex</option>
        </select>
        <input type="date" id="Birthdate" name="birthdate" placeholder="Birth date" #birthDateRef required>
      </form>
    </div>
    <div class="patient-contact">
      <form>  
        <label for="contactInfo">Contact Information:</label><br>
        <input type="email" id="email" name="email" placeholder="Email" #emailRef required>
        <input type="tel" id="phone" name="phone" placeholder="Phone Number" #phoneRef required>
        <input type="tel" id="emergencycontact" name="emergencycontact" placeholder="Emergency Contact" #emergencyRef required>
      </form>
    </div>
    <button
      class="patientBtn"
      type="button"
      (click)="registerPatient(
        firstNameRef.value,
        lastNameRef.value,
        fullNameRef.value,
        birthDateRef.value,
        sexRef.value,
        emailRef.value,
        phoneRef.value,
        emergencyRef.value
      )"
    >
      Register Patient
    </button>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <!-- Patient Update Section -->
  <section [style.display]="selectedSection === 'editPatient' ? 'block' : 'none'">
    <h2>Edit Patient Profile</h2>
    <p>Here you can edit an existing patient profile.</p>

     <!-- Display success or error messages -->
    <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>

  <!-- Table for Patients -->
  <table class="table-display">
    <tr>
      <th>Patient ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Full Name</th>
      <th>Birth Date</th>
      <th>Sex</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Emergency Contact</th>
      <th>Action</th>
    </tr>

    <tr *ngFor="let patient of patientList">
      <td>{{ patient.id }}</td>
      <td>{{ patient.FirstName }}</td>
      <td>{{ patient.LastName }}</td>
      <td>{{ patient.FullName}}</td>
      <td>{{ patient.BrirthDate | date: 'yyyy-MM-dd HH:mm' }}</td>
      <td>{{ patient.Sex }}</td>
      <td>{{ patient.Email }}</td>
      <td>{{ patient.Phone }}</td>
      <td>{{ patient.EmergencyContact }}</td>
      <td>
        <button (click)="selectPatientForUpdate(patient)">Edit</button>
      </td>
    </tr>
  </table>

  <!-- Update Form -->
  <div *ngIf="selectedPatient">
    <h3>Update Patient ID: {{ selectedPatient.id }}</h3>
    <div class="patient-name">
      <form>
        <label for="updatedname">Patient Name:</label><br>
        <input type="text" id="updatedfirstName" name="firstName" placeholder="Fist Name" #updatedfirstNameRef required>
        <input type="text" id="updatedlastName" name="lastName" placeholder="Last Name" #updatedlastNameRef required>
      </form>
    </div>
    <div class="updatedpatient-fullName">
      <form>
        <input type="text" id="updatedfullName" name="fullName" placeholder="Full Name" #updatedfullNameRef required>
      </form>
    </div>
    <br>
    <div class="updatedpatient-sex-birthdate">
      <form>
        <label for="sex-birthdate">Patient Sex and Birthdate:</label><br>
        <select id="updatedSex" name="sex" #updatedsexRef required>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
          <option value="" disabled selected>Select Sex</option>
        </select>
        <input type="date" id="updatedBirthdate" name="birthdate" placeholder="Birth date" #updatedbirthDateRef required>
      </form>
    </div>
    <div class="patient-contact">
      <form>  
        <label for="contactInfo">Contact Information:</label><br>
        <input type="email" id="updatedemail" name="email" placeholder="Email" #updatedemailRef required>
        <input type="tel" id="updatedphone" name="phone" placeholder="Phone Number" #updatedphoneRef required>
        <input type="tel" id="updatedemergencycontact" name="emergencycontact" placeholder="Emergency Contact" #updatedemergencyRef required>
      </form>
    </div>

      <button type="button" (click)="cancelUpdate()">Cancel</button>
  </div>

    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'deletePatient' ? 'block' : 'none'">
    <h2>Delete Patient Profile</h2>
    <p>Here you can delete a patient profile.</p>
    <form>
      <input type="text" placeholder="Search Patients" #filter (input)="filterResults(filter.value)" />
      <button class="patientsBtn" type="button" (click)="filterResults(filter.value)">Search</button>
    </form>
     <!-- Table for Patients -->
  <table class="table-display">
    <tr>
      <th>Patient ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Full Name</th>
      <th>Birth Date</th>
      <th>Sex</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Emergency Contact</th>
      <th>Action</th>
    </tr>

    <tr *ngFor="let patient of patientList">
      <td>{{ patient.id }}</td>
      <td>{{ patient.FirstName }}</td>
      <td>{{ patient.LastName }}</td>
      <td>{{ patient.FullName}}</td>
      <td>{{ patient.BrirthDate | date: 'yyyy-MM-dd HH:mm' }}</td>
      <td>{{ patient.Sex }}</td>
      <td>{{ patient.Email }}</td>
      <td>{{ patient.Phone }}</td>
      <td>{{ patient.EmergencyContact }}</td>
      <td>
        <button class="table-button" (click)="submitRemoval(patient.id)">Remove</button>
      </td>
    </tr>
  </table>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'listPatients' ? 'block' : 'none'">
    <h2>List/Search Patient Profiles</h2>
    <p>Here you can list or search for patient profiles.</p>
    <table class="table-display">
      <tr>
        <th>Patient ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Full Name</th>
        <th>Birth Date</th>
        <th>Sex</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Emergency Contact</th>
      </tr>
  
      <tr *ngFor="let patient of patientList">
        <td>{{ patient.id }}</td>
        <td>{{ patient.FirstName }}</td>
        <td>{{ patient.LastName }}</td>
        <td>{{ patient.FullName}}</td>
        <td>{{ patient.BrirthDate | date: 'yyyy-MM-dd HH:mm' }}</td>
        <td>{{ patient.Sex }}</td>
        <td>{{ patient.Email }}</td>
        <td>{{ patient.Phone }}</td>
        <td>{{ patient.EmergencyContact }}</td>
      </tr>
    </table>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <!-- Staff Sections -->
  <section class="staff-create" [style.display]="selectedSection === 'createStaff' ? 'block' : 'none'">
    <head>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
      <style>
          body {
              font-family: 'Roboto', sans-serif;
          }
      </style>
    </head>


    <h2>Create Staff Profile</h2>
    <p>Here you can create a new staff profile.</p>
    <P>Please enter the following data about the new staff member.</P>
    <div class="staff-name">
      <form>
        <label for="name">Staff Name:</label><br>
        <input type="text" id="firstName" name="firstName" placeholder="Fist Name" required>
        <input type="text" id="lastName" name="lastName" placeholder="Last Name" required>
      </form>
    </div>
    <div class="staff-fullName">
      <form>
        <input type="text" id="fullName" name="fullName" placeholder="Full Name" required>
      </form>
    </div>
    <br>
    <div class="staff-contact">
      <form>
        <label for="contactInfo">Contact Information:</label><br>
        <input type="email" id="email" name="email" placeholder="Email" required>
        <input type="tel" id="phone" name="phone" placeholder="Phone Number" required>
      </form>
    </div>
    <br>
    <div class="staff-specialization">
      <form>
        <label for="specialization">Specialization:</label><br>
        <select id="specialization" name="specialization" required>
          <option value="1">Specialization 1</option>
          <option value="2">Specialization 2</option>
          <option value="3">Specialization 3</option>
          <option value="4">Specialization 4</option>
          <option value="" disabled selected>Select Specialization</option>
        </select>
      </form>
    </div>
    <br>
    <button (click)="showSection('')">Submit</button>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'editStaff' ? 'block' : 'none'">
    <h2>Edit Staff Profile</h2>
    <p>Here you can edit an existing staff profile.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'deactivateStaff' ? 'block' : 'none'">
    <h2>Deactivate Staff Profile</h2>
    <p>Here you can deactivate a staff profile.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'listStaff' ? 'block' : 'none'">
    <h2>List/Search Staff Profiles</h2>
    <p>Here you can list or search for staff profiles.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <!-- Operation Types Sections -->
  <section [style.display]="selectedSection === 'addOperationType' ? 'block' : 'none'">
    <h2>Add Operation Type</h2>
    <p>Here you can add a new operation type.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'editOperationType' ? 'block' : 'none'">
    <h2>Edit Operation Type</h2>
    <p>Here you can edit an existing operation type.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'removeOperationType' ? 'block' : 'none'">
    <h2>Remove Operation Type</h2>
    <p>Here you can remove an obsolete operation type.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>

  <section [style.display]="selectedSection === 'listOperationTypes' ? 'block' : 'none'">
    <h2>List/Search Operation Types</h2>
    <p>Here you can list or search for operation types.</p>
    <button (click)="showSection('')">Back to Main Menu</button>
  </section>


<p>Current Section: {{ selectedSection }}</p>
